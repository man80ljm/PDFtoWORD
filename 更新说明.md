# PDF转换工具 - 更新说明

---

## v1.4 (2026-02-11)

### 🆕 新增功能
- **PDF加水印**：支持文字水印，可设置透明度、位置（平铺/居中/四角）、旋转角度
- **PDF加密/解密**：AES-256 加密，支持打开密码和权限密码；一键解密移除密码保护
- 加密时可控制是否允许打印、复制等权限

### 🐛 Bug 修复（共7项）
1. PDF转图片进度条在指定页范围时计算不准确
2. PDF转图片输出文件名从 0 开始改为从 1 开始
3. 批量PDF转Word时页范围被错误地应用到所有文件（现已自动忽略）
4. 设置窗口"测试连接"按钮同步阻塞UI，改为异步线程执行
5. DPI输入框可随意输入非数字文本，改为只读下拉选择
6. 移除残留死代码（`formula_mode_var`、`get_page_range()`）
7. `requirements.txt` 缺少 `PyMuPDF` 显式声明

### 📝 文档更新
- 全面重写 README.md，反映 7 大功能和模块化架构
- 更新项目结构说明、技术栈、FAQ

---

## v1.3 (2026-02-10)

### 🏗️ 架构重构
- 从单文件 2000+ 行重构为三层模块化架构：`core/` → `converters/` → `ui/`
- 每种转换功能独立一个文件，便于维护和扩展

### 🆕 新增功能
- **PDF转图片**：批量导出，支持 DPI 和格式(PNG/JPEG)选择
- **PDF合并**：多个PDF按选择顺序合并为一个文件
- **PDF拆分**：三种拆分模式 — 每页一个、每N页一个、按范围拆分
- **图片转PDF**：多张图片合成PDF，支持 A4/A3/Letter/Legal/自适应尺寸
- **转换历史**：自动记录每次转换操作，可查看历史
- **文件拖拽**：支持直接拖拽文件到窗口（需 windnd 库）
- **批量PDF转Word**：多文件选择，一次性批量转换
- **OCR + 公式识别**：通过百度云API识别扫描件和数学公式

### ✨ 改进
- 功能选择下拉框，可在 7 种功能间自由切换
- 界面根据功能自动切换对应选项区域
- 设置窗口新增百度API配置和测试连接功能

---

## v1.2 (2026-02-09)

### ✨ 主要变更
- 全新 Canvas 透明面板，支持自定义背景图片和透明度
- 支持自定义标题文字
- 实时进度条：百分比 + 页码 + 预计剩余时间
- 单页超时提醒（60 秒阈值）
- 支持指定页范围转换
- 异常页自动跳过并汇总报告
- 使用 Python 3.8 打包，兼容 Win7/10/11
- 移除PDF转Excel功能，专注核心转换能力
